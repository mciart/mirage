# 服务器实例名称（目前未用作接口名称）
name = "tun0"
# TLS 使用的证书路径 (Fallback/Standard 模式)
certificate_file = "examples/cert/server_cert.pem"
# TLS 使用的私钥路径
certificate_key_file = "examples/cert/server_key.pem"
# 隧道绑定的地址
bind_address = "::0"
# IPv4: bind_address = "0.0.0.0"
# 隧道绑定的端口
bind_port = 443
# 隧道端点地址和分配给客户端的地址池基准地址
tunnel_network = "10.11.12.1/24"
# IPv6 隧道网络 (可选，启用双栈)
tunnel_network_v6 = "fd00::1/64"
# 申请的 TUN 设备名称（可选）
# interface_name = "tun0"
# 是否隔离客户端（客户端之间无法互相访问）
isolate_clients = true

[authentication]
# 包含用户凭据的文件路径
users_file = "examples/users"

[connection]
# 隧道和生成的 TUN 接口使用的 MTU
mtu = 1280
# 是否复用套接字 (SO_REUSEADDR)
reuse_socket = true

[connection.obfuscation]
# 是否启用流量混淆 (默认: true)
enabled = true
# 发送随机填充包的概率 (0.0-1.0, 默认: 0.05)
padding_probability = 0.05
# 随机填充包的最小长度 (字节, 默认: 100)
padding_min = 100
# 随机填充包的最大长度 (字节, 默认: 1000)
padding_max = 1000
# 时序混淆：最小随机延迟 (毫秒, 默认: 0)
jitter_min_ms = 0
# 时序混淆：最大随机延迟 (毫秒, 默认: 20)
jitter_max_ms = 20

[reality]
# 伪装的目标域名 (SNI) -> 建议选择大厂域名
target_sni = "www.microsoft.com"
# 客户端认证 ShortId 列表 (十六进制)，对应客户端配置
short_ids = [
    "abcd1234deadbeef", 
    "0011223344556677"
]

[nat]
# IPv4 出站网口 (例如 eth0)，设置后自动启用 Masquerade 和转发
# 如果留空或注释，则不进行任何自动网络配置（需手动配置 iptables）
# ipv4_interface = "eth0"

# IPv6 出站网口 (例如 eth0)，设置后自动启用 Masquerade 和转发
# 如果留空或注释，则不进行任何自动网络配置
# ipv6_interface = "eth0"

[log]
# 日志级别 (trace, debug, info, warn, error)
level = "info"
